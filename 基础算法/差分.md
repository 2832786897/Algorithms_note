### 差分数组

##### 给区间[l, r]中的数加c：B[l] += c, B[r + 1] -= c

输入一个长度为 *n* 的整数序列。

接下来输入 *m* 个操作，每个操作包含三个整数 *l*,*r*,*c*，表示将序列中 [l,r] 之间的每个数加上 *c*。

请你输出进行完所有操作后的序列。

#### 输入格式

第一行包含两个整数 *n* 和 *m*。

第二行包含 *n* 个整数，表示整数序列。

接下来 *m* 行，每行包含三个整数 *l*，*r*，*c*，表示一个操作。

#### 输出格式

共一行，包含 *n* 个整数，表示最终序列。

#### 数据范围

1≤*n*,*m*≤100000,
1≤*l*≤*r*≤*n*,
−1000≤*c*≤1000,
−1000≤整数序列中元素的值≤1000

#### 输入样例：

```
6 3
1 2 2 1 2 1
1 3 1
3 5 1
1 6 1
```

#### 输出样例：

```
3 4 5 3 4 2
```

#### 代码
```c++
#include<iostream>
using namespace std;
const int N = 1e6 + 10;
int a[N], d[N];
int main()
{
    int n, m;
    int l, r, c;
    cin >> n >> m;
    for(int i = 0; i < n; i++)
    {
        cin >> a[i + 1];
        d[i + 1] = a[i + 1] - a[i]; // d[]中存入的是a[]中相邻两数的差
    }
        
    while(m--)
    {
        cin >> l >> r >> c;
        d[l] += c;
        d[r + 1] -= c;
    }
    for(int i = 0; i < n; i++)
    {
        a[i + 1] = a[i] + d[i + 1]; // 输出第n个数为d[]中前n个数的和
        printf("%d ", a[i + 1]);
    }
}
```

### 差分矩阵

##### 给以（x1，y1）为左上角，（x2，y2）为右下角的子矩阵中所有元素加c：S[x1，y1] += c，S[x2+1，y1] -= c，S[x1，y2+1] -= c，S[x2+1，y2+1] += c

输入一个 *n* 行 *m* 列的整数矩阵，再输入 *q* 个操作，每个操作包含五个整数 *x*1,*y*1,*x*2,*y*2,*c*，其中 (*x*1,*y*1)(x1,y1) 和 (*x*2,*y*2)(x2,y2) 表示一个子矩阵的左上角坐标和右下角坐标。

每个操作都要将选中的子矩阵中的每个元素的值加上 *c*。

请你将进行完所有操作后的矩阵输出。

#### 输入格式

第一行包含整数 *n*,*m*,*q*。

接下来 *n* 行，每行包含 *m* 个整数，表示整数矩阵。

接下来 *q*q 行，每行包含 55 个整数 *x*1,*y*1,*x*2,*y*2,*c*，表示一个操作。

#### 输出格式

共 *n*n 行，每行 *m* 个整数，表示所有操作进行完毕后的最终矩阵。

#### 数据范围

1≤*n*,*m*≤1000,
1≤*q*≤100000,
1≤*x*1≤*x*2≤*n*,
1≤*y*1≤*y*2≤*m*,
−1000≤*c*≤1000,
−1000≤矩阵内元素的值≤1000

#### 输入样例：

```
3 4 3
1 2 2 1
3 2 2 1
1 1 1 1
1 1 2 2 1
1 3 2 3 2
3 1 3 4 1
```

#### 输出样例：

```
2 3 4 1
4 3 4 1
2 2 2 2
```

#### 代码

```c++
#include<iostream>
using namespace std;
const int N = 1010;
int a[N][N], d[N][N];
int main()
{
    int n, m, q;
    cin >> n >> m >> q;
    for(int i = 0; i < n; i++)
        for(int j = 0; j < m; j++)
        {
            cin >> a[i + 1][j + 1];
            d[i + 1][j + 1] = a[i + 1][j + 1] - a[i][j + 1] - a[i + 1][j] + a[i][j];
        }
    for(int i = 0; i < q; i ++)
    {
        int x1, y1, x2, y2, c;
        cin >> x1 >> y1 >> x2 >> y2 >> c;
        d[x1][y1] += c;
        d[x2 + 1][y2 + 1] += c;
        d[x1][y2 + 1] -= c;
        d[x2 + 1][y1] -= c;
    }
    for(int i = 0; i < n; i++)
    {
        for(int j = 0; j < m; j++)
        {
            a[i + 1][j + 1] = a[i][j + 1] + a[i + 1][j] - a[i][j] + d[i + 1][j + 1];
            cout << a[i + 1][j + 1] << ' ';
        }
        printf("\n");
    }
}

```

